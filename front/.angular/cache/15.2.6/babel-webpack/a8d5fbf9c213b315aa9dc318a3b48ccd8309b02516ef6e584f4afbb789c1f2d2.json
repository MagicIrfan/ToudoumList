{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class TaskService {\n  constructor() {\n    this.tasks = [{\n      id: 0,\n      name: \"T'as les cramptés ?\",\n      description: \"Apanyan\",\n      finished: false\n    }];\n  }\n  getAllTasks() {\n    return this.tasks;\n  }\n  getTaskById(id) {\n    return this.tasks.find(task => task.id === id);\n  }\n  getLastId() {\n    if (this.tasks.length === 0) {\n      return 0;\n    }\n    const maxId = this.tasks.reduce((max, task) => Math.max(max, task.id), 0);\n    return maxId + 1;\n  }\n  addTask(newTask) {\n    this.tasks.push(newTask);\n  }\n  editTask(task) {\n    const index = this.getIndexById(task.id);\n    if (index > -1) this.tasks[index] = task;\n  }\n  setFinishTask(id, isFinished) {\n    const index = this.getIndexById(id);\n    console.log(index);\n    console.log(this.tasks[index]);\n    if (index > -1) this.tasks[index].finished = isFinished;\n  }\n  deleteTask(id) {\n    const index = this.getIndexById(id);\n    if (index > -1) {\n      this.tasks.splice(index, 1);\n    }\n  }\n  getIndexById(id) {\n    console.log(`id : ${id}`);\n    return this.tasks.indexOf(this.tasks[id]);\n  }\n}\nTaskService.ɵfac = function TaskService_Factory(t) {\n  return new (t || TaskService)();\n};\nTaskService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: TaskService,\n  factory: TaskService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAMA,OAAM,MAAOA,WAAW;EAItBC;IACE,IAAI,CAACC,KAAK,GAAG,CACX;MACEC,EAAE,EAAC,CAAC;MACJC,IAAI,EAAC,qBAAqB;MAC1BC,WAAW,EAAC,SAAS;MACrBC,QAAQ,EAAC;KACV,CACF;EACH;EAEAC,WAAW;IACT,OAAO,IAAI,CAACL,KAAK;EACnB;EAEAM,WAAW,CAACL,EAAS;IACnB,OAAO,IAAI,CAACD,KAAK,CAACO,IAAI,CAAEC,IAAU,IAAKA,IAAI,CAACP,EAAE,KAAKA,EAAE,CAAS;EAChE;EAEAQ,SAAS;IACP,IAAI,IAAI,CAACT,KAAK,CAACU,MAAM,KAAK,CAAC,EAAE;MAC3B,OAAO,CAAC;;IAEV,MAAMC,KAAK,GAAY,IAAI,CAACX,KAAK,CAACY,MAAM,CAAC,CAACC,GAAY,EAAEL,IAAU,KAAKM,IAAI,CAACD,GAAG,CAACA,GAAG,EAAEL,IAAI,CAACP,EAAE,CAAC,EAAE,CAAC,CAAC;IACjG,OAAOU,KAAK,GAAG,CAAC;EAClB;EAEAI,OAAO,CAACC,OAAa;IACnB,IAAI,CAAChB,KAAK,CAACiB,IAAI,CAACD,OAAO,CAAC;EAC1B;EAEAE,QAAQ,CAACV,IAAU;IACjB,MAAMW,KAAK,GAAY,IAAI,CAACC,YAAY,CAACZ,IAAI,CAACP,EAAE,CAAC;IACjD,IAAIkB,KAAK,GAAG,CAAC,CAAC,EACZ,IAAI,CAACnB,KAAK,CAACmB,KAAK,CAAC,GAAGX,IAAI;EAC5B;EAEAa,aAAa,CAACpB,EAAS,EAACqB,UAAkB;IACxC,MAAMH,KAAK,GAAY,IAAI,CAACC,YAAY,CAACnB,EAAE,CAAC;IAC5CsB,OAAO,CAACC,GAAG,CAACL,KAAK,CAAC;IAClBI,OAAO,CAACC,GAAG,CAAC,IAAI,CAACxB,KAAK,CAACmB,KAAK,CAAC,CAAC;IAC9B,IAAIA,KAAK,GAAG,CAAC,CAAC,EACZ,IAAI,CAACnB,KAAK,CAACmB,KAAK,CAAC,CAACf,QAAQ,GAAGkB,UAAU;EAC3C;EAEAG,UAAU,CAACxB,EAAS;IAClB,MAAMkB,KAAK,GAAY,IAAI,CAACC,YAAY,CAACnB,EAAE,CAAC;IAC5C,IAAIkB,KAAK,GAAG,CAAC,CAAC,EAAE;MACd,IAAI,CAACnB,KAAK,CAAC0B,MAAM,CAACP,KAAK,EAAE,CAAC,CAAC;;EAE/B;EAEAC,YAAY,CAACnB,EAAS;IACpBsB,OAAO,CAACC,GAAG,CAAC,QAAQvB,EAAE,EAAE,CAAC;IACzB,OAAO,IAAI,CAACD,KAAK,CAAC2B,OAAO,CAAC,IAAI,CAAC3B,KAAK,CAACC,EAAE,CAAC,CAAC;EAC3C;;AA3DWH,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAA8B,SAAX9B,WAAW;EAAA+B,YAFV;AAAM","names":["TaskService","constructor","tasks","id","name","description","finished","getAllTasks","getTaskById","find","task","getLastId","length","maxId","reduce","max","Math","addTask","newTask","push","editTask","index","getIndexById","setFinishTask","isFinished","console","log","deleteTask","splice","indexOf","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Irfan\\Desktop\\todoumlist\\front\\src\\app\\core\\services\\task.service.ts"],"sourcesContent":["import {Injectable} from \"@angular/core\";\r\nimport {Task} from \"../models/task.model\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TaskService {\r\n\r\n  private tasks!: Task[];\r\n\r\n  constructor() {\r\n    this.tasks = [\r\n      {\r\n        id:0,\r\n        name:\"T'as les cramptés ?\",\r\n        description:\"Apanyan\",\r\n        finished:false\r\n      }\r\n    ]\r\n  }\r\n\r\n  getAllTasks(): Task[] {\r\n    return this.tasks;\r\n  }\r\n\r\n  getTaskById(id:number): Task{\r\n    return this.tasks.find((task: Task) => task.id === id) as Task;\r\n  }\r\n\r\n  getLastId():number{\r\n    if (this.tasks.length === 0) {\r\n      return 0;\r\n    }\r\n    const maxId : number = this.tasks.reduce((max : number, task :Task) => Math.max(max, task.id), 0);\r\n    return maxId + 1;\r\n  }\r\n\r\n  addTask(newTask: Task):void{\r\n    this.tasks.push(newTask);\r\n  }\r\n\r\n  editTask(task: Task):void{\r\n    const index : number = this.getIndexById(task.id);\r\n    if (index > -1)\r\n      this.tasks[index] = task;\r\n  }\r\n\r\n  setFinishTask(id:number,isFinished:boolean):void{\r\n    const index : number = this.getIndexById(id);\r\n    console.log(index);\r\n    console.log(this.tasks[index]);\r\n    if (index > -1)\r\n      this.tasks[index].finished = isFinished;\r\n  }\r\n\r\n  deleteTask(id:number) : void{\r\n    const index : number = this.getIndexById(id);\r\n    if (index > -1) {\r\n      this.tasks.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  getIndexById(id:number):number{\r\n    console.log(`id : ${id}`);\r\n    return this.tasks.indexOf(this.tasks[id]);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}