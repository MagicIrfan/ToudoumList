{"ast":null,"code":"import { Task } from \"../../../core/models/task.model\";\nimport { FormControl, Validators } from \"@angular/forms\";\nimport { map } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../../../core/services/task.service\";\nimport * as i4 from \"@angular/common\";\nfunction AddTaskComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 11);\n    i0.ɵɵelement(5, \"input\", 16);\n    i0.ɵɵelementStart(6, \"button\", 17);\n    i0.ɵɵelement(7, \"i\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 19);\n    i0.ɵɵelement(9, \"i\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 21);\n    i0.ɵɵelement(11, \"i\", 22);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const previewTask_r1 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(previewTask_r1.name);\n  }\n}\nexport class AddTaskComponent {\n  constructor(router, formBuilder, taskService, route) {\n    this.router = router;\n    this.formBuilder = formBuilder;\n    this.taskService = taskService;\n    this.route = route;\n  }\n  ngOnInit() {\n    this.nameControl = new FormControl(null, Validators.required);\n    this.editTaskForm = this.formBuilder.group({\n      name: new FormControl(null, Validators.required),\n      description: new FormControl(null, Validators.required)\n    }, {\n      updateOn: 'change'\n    });\n    this.previewTask$ = this.editTaskForm.valueChanges.pipe(map(task => ({\n      name: task.name,\n      description: task.description,\n      id: 0,\n      finished: false\n    })));\n  }\n  onAddTask() {\n    const formValue = this.editTaskForm.value;\n    const id = this.taskService.getLastId();\n    const newTask = new Task(id, formValue['name'], formValue['description'], false);\n    this.taskService.addTask(newTask);\n    this.router.navigateByUrl(\"\");\n  }\n  onReturn() {\n    this.router.navigateByUrl(\"\");\n  }\n}\nAddTaskComponent.ɵfac = function AddTaskComponent_Factory(t) {\n  return new (t || AddTaskComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.TaskService), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\nAddTaskComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddTaskComponent,\n  selectors: [[\"app-add-task\"]],\n  decls: 20,\n  vars: 5,\n  consts: [[1, \"container\"], [1, \"edit-task\", \"border-2\", \"mx-auto\", \"text-light\", \"border-2\", \"rounded-3\", \"p-4\"], [3, \"formGroup\"], [1, \"form-floating\", \"mb-3\"], [\"type\", \"text\", \"id\", \"task-name\", \"formControlName\", \"name\", \"required\", \"\", 1, \"form-control\", \"text-white\"], [\"for\", \"task-name\"], [\"id\", \"task-description\", \"formControlName\", \"description\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"task-description\"], [1, \"clearfix\"], [1, \"float-start\"], [\"type\", \"button\", 1, \"btn\", \"super-dark\", \"rounded-4\", 3, \"click\"], [1, \"float-end\"], [\"type\", \"submit\", 1, \"btn\", \"super-dark\", \"rounded-4\", 3, \"disabled\", \"click\"], [\"class\", \"preview-task ms-auto me-auto text-white p-4 my-5 rounded-4\", 4, \"ngIf\"], [1, \"preview-task\", \"ms-auto\", \"me-auto\", \"text-white\", \"p-4\", \"my-5\", \"rounded-4\"], [1, \"div-list-item\"], [\"checked\", \"\", \"disabled\", \"\", \"type\", \"checkbox\", 1, \"form-check-input\", \"me-5\"], [1, \"btn\", \"btn-success\", \"me-1\", \"disabled\"], [1, \"fa-solid\", \"fa-eye\", \"fa-xl\"], [1, \"btn\", \"btn-primary\", \"me-1\", \"disabled\"], [1, \"fa-solid\", \"fa-pen-to-square\", \"fa-xl\"], [1, \"btn\", \"btn-danger\", \"ms-1\", \"disabled\"], [1, \"fa-solid\", \"fa-trash\", \"fa-xl\"]],\n  template: function AddTaskComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", 2)(3, \"div\", 3);\n      i0.ɵɵelement(4, \"input\", 4);\n      i0.ɵɵelementStart(5, \"label\", 5);\n      i0.ɵɵtext(6, \"T\\u00E2che\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 3);\n      i0.ɵɵelement(8, \"textarea\", 6);\n      i0.ɵɵelementStart(9, \"label\", 7);\n      i0.ɵɵtext(10, \"Description\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 8)(12, \"div\", 9)(13, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function AddTaskComponent_Template_button_click_13_listener() {\n        return ctx.onReturn();\n      });\n      i0.ɵɵtext(14, \"Retour\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 11)(16, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function AddTaskComponent_Template_button_click_16_listener() {\n        return ctx.onAddTask();\n      });\n      i0.ɵɵtext(17, \"Sauvegarder\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵtemplate(18, AddTaskComponent_div_18_Template, 12, 1, \"div\", 13);\n      i0.ɵɵpipe(19, \"async\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.editTaskForm);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"disabled\", ctx.editTaskForm.invalid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(19, 3, ctx.previewTask$));\n    }\n  },\n  dependencies: [i4.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.FormGroupDirective, i2.FormControlName, i4.AsyncPipe],\n  styles: [\".edit-task[_ngcontent-%COMP%] {\\n  background-color: #3c3c3c;\\n  margin-top: 12em;\\n}\\n\\ntextarea[_ngcontent-%COMP%] {\\n  height: 13rem;\\n}\\n\\n.preview-task[_ngcontent-%COMP%] {\\n  width: 50%;\\n  border: 4px solid #3c3c3c;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGFza3MvY29tcG9uZW50cy9hZGQtdGFzay9hZGQtdGFzay5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHlCQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7QUFDRjs7QUFFQTtFQUNFLFVBQUE7RUFDQSx5QkFBQTtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmVkaXQtdGFza3tcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2MzYzNjO1xyXG4gIG1hcmdpbi10b3A6MTJlbTtcclxufVxyXG5cclxudGV4dGFyZWF7XHJcbiAgaGVpZ2h0OjEzcmVtO1xyXG59XHJcblxyXG4ucHJldmlldy10YXNre1xyXG4gIHdpZHRoOiA1MCU7XHJcbiAgYm9yZGVyOiA0cHggc29saWQgIzNjM2MzYztcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AACA,SAAQA,IAAI,QAAO,iCAAiC;AACpD,SAAqBC,WAAW,EAAaC,UAAU,QAAO,gBAAgB;AAC9E,SAAQC,GAAG,QAAmB,MAAM;;;;;;;;ICkBlCC,+BAAoH;IAE7GA,YAAoB;IAAAA,iBAAI;IAC3BA,+BAAuB;IACrBA,4BAAsE;IACtEA,kCAA8C;IAAAA,wBAAqC;IAAAA,iBAAS;IAC5FA,kCAA8C;IAAAA,wBAA+C;IAAAA,iBAAS;IACtGA,mCAA6C;IAAAA,yBAAuC;IAAAA,iBAAS;;;;IAL5FA,eAAoB;IAApBA,yCAAoB;;;ADX7B,OAAM,MAAOC,gBAAgB;EAI3BC,YAAoBC,MAAa,EAAUC,WAAwB,EAAUC,WAAuB,EAAUC,KAAoB;IAA9G,WAAM,GAANH,MAAM;IAAiB,gBAAW,GAAXC,WAAW;IAAuB,gBAAW,GAAXC,WAAW;IAAsB,UAAK,GAALC,KAAK;EAAkB;EAErIC,QAAQ;IACN,IAAI,CAACC,WAAW,GAAG,IAAIX,WAAW,CAAC,IAAI,EAAEC,UAAU,CAACW,QAAQ,CAAC;IAC7D,IAAI,CAACC,YAAY,GAAG,IAAI,CAACN,WAAW,CAACO,KAAK,CAAC;MACzCC,IAAI,EAAE,IAAIf,WAAW,CAAC,IAAI,EAAEC,UAAU,CAACW,QAAQ,CAAC;MAChDI,WAAW,EAAE,IAAIhB,WAAW,CAAC,IAAI,EAAEC,UAAU,CAACW,QAAQ;KACvD,EAAE;MACDK,QAAQ,EAAE;KACX,CAAC;IACF,IAAI,CAACC,YAAY,GAAG,IAAI,CAACL,YAAY,CAACM,YAAY,CAACC,IAAI,CACrDlB,GAAG,CAAEmB,IAAU,KAAM;MACnBN,IAAI,EAACM,IAAI,CAACN,IAAI;MACdC,WAAW,EAACK,IAAI,CAACL,WAAW;MAC5BM,EAAE,EAAC,CAAC;MACJC,QAAQ,EAAC;KACV,CAAC,CAAC,CAAC;EACR;EACAC,SAAS;IACP,MAAMC,SAAS,GAAG,IAAI,CAACZ,YAAa,CAACa,KAAK;IAC1C,MAAMJ,EAAE,GAAY,IAAI,CAACd,WAAW,CAACmB,SAAS,EAAE;IAChD,MAAMC,OAAO,GAAU,IAAI7B,IAAI,CAC7BuB,EAAE,EACFG,SAAS,CAAC,MAAM,CAAC,EACjBA,SAAS,CAAC,aAAa,CAAC,EACxB,KAAK,CACN;IACD,IAAI,CAACjB,WAAW,CAACqB,OAAO,CAACD,OAAO,CAAC;IACjC,IAAI,CAACtB,MAAM,CAACwB,aAAa,CAAC,EAAE,CAAC;EAC/B;EAEAC,QAAQ;IACN,IAAI,CAACzB,MAAM,CAACwB,aAAa,CAAC,EAAE,CAAC;EAC/B;;AArCW1B,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAA4B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ7BjC,8BAAuB;MAIfA,2BAAkG;MAClGA,gCAAuB;MAAAA,0BAAK;MAAAA,iBAAQ;MAEtCA,8BAAgC;MAC9BA,8BAAuG;MACvGA,gCAA8B;MAAAA,4BAAW;MAAAA,iBAAQ;MAEnDA,+BAAsB;MAEIA;QAAA,OAASkC,cAAU;MAAA,EAAC;MAAkClC,uBAAM;MAAAA,iBAAS;MAE7FA,gCAAuB;MACCA;QAAA,OAASkC,eAAW;MAAA,EAAC;MAAoElC,4BAAW;MAAAA,iBAAS;MAK3IA,qEAUM;;MACRA,iBAAM;;;MA9BIA,eAA0B;MAA1BA,4CAA0B;MAcmDA,gBAAiC;MAAjCA,mDAAiC;MAK7CA,eAA2B;MAA3BA,8DAA2B","names":["Task","FormControl","Validators","map","i0","AddTaskComponent","constructor","router","formBuilder","taskService","route","ngOnInit","nameControl","required","editTaskForm","group","name","description","updateOn","previewTask$","valueChanges","pipe","task","id","finished","onAddTask","formValue","value","getLastId","newTask","addTask","navigateByUrl","onReturn","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Irfan\\Desktop\\todoumlist\\front\\src\\app\\tasks\\components\\add-task\\add-task.component.ts","C:\\Users\\Irfan\\Desktop\\todoumlist\\front\\src\\app\\tasks\\components\\add-task\\add-task.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {Task} from \"../../../core/models/task.model\";\nimport {FormBuilder, FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {map, Observable} from \"rxjs\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {TaskService} from \"../../../core/services/task.service\";\n\n@Component({\n  selector: 'app-add-task',\n  templateUrl: './add-task.component.html',\n  styleUrls: ['./add-task.component.scss']\n})\nexport class AddTaskComponent {\n  editTaskForm!: FormGroup;\n  previewTask$!: Observable<Task>;\n  nameControl!: FormControl;\n  constructor(private router:Router, private formBuilder: FormBuilder, private taskService:TaskService, private route:ActivatedRoute) {}\n\n  ngOnInit():void{\n    this.nameControl = new FormControl(null, Validators.required);\n    this.editTaskForm = this.formBuilder.group({\n      name: new FormControl(null, Validators.required),\n      description: new FormControl(null, Validators.required)\n    }, {\n      updateOn: 'change'\n    });\n    this.previewTask$ = this.editTaskForm.valueChanges.pipe(\n      map((task: Task) => ({\n        name:task.name,\n        description:task.description,\n        id:0,\n        finished:false\n      })));\n  }\n  onAddTask():void{\n    const formValue = this.editTaskForm!.value;\n    const id : number = this.taskService.getLastId();\n    const newTask : Task = new Task(\n      id,\n      formValue['name'],\n      formValue['description'],\n      false,\n    );\n    this.taskService.addTask(newTask);\n    this.router.navigateByUrl(\"\");\n  }\n\n  onReturn() : void {\n    this.router.navigateByUrl(\"\");\n  }\n}\n","<div class=\"container\">\n  <div class=\"edit-task border-2 mx-auto text-light border-2 rounded-3 p-4\">\n    <form [formGroup]=\"editTaskForm\">\n      <div class=\"form-floating mb-3\">\n        <input type=\"text\" class=\"form-control text-white\" id=\"task-name\" formControlName=\"name\" required>\n        <label for=\"task-name\">Tâche</label>\n      </div>\n      <div class=\"form-floating mb-3\">\n        <textarea class=\"form-control\" id=\"task-description\" formControlName=\"description\" required></textarea>\n        <label for=\"task-description\">Description</label>\n      </div>\n      <div class=\"clearfix\">\n        <div class=\"float-start\">\n          <button type=\"button\" (click)=\"onReturn()\" class=\"btn super-dark rounded-4\">Retour</button>\n        </div>\n        <div class=\"float-end\">\n          <button type=\"submit\" (click)=\"onAddTask()\" class=\"btn super-dark rounded-4\" [disabled]=\"editTaskForm.invalid\">Sauvegarder</button>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div class=\"preview-task ms-auto me-auto text-white p-4 my-5 rounded-4\" *ngIf=\"previewTask$ | async as previewTask\">\n    <div class=\"div-list-item\">\n      <p>{{previewTask.name}}</p>\n      <div class=\"float-end\">\n        <input class=\"form-check-input me-5\" checked disabled type=\"checkbox\">\n        <button class=\"btn btn-success me-1 disabled\"><i class=\"fa-solid fa-eye fa-xl\"></i></button>\n        <button class=\"btn btn-primary me-1 disabled\"><i class=\"fa-solid fa-pen-to-square fa-xl\"></i></button>\n        <button class=\"btn btn-danger ms-1 disabled\"><i class=\"fa-solid fa-trash fa-xl\"></i></button>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}